# üéß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∞—É–¥–∏–æ–∫–Ω–∏–≥

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—É–¥–∏–æ–∫–Ω–∏–≥–∏ –∏–∑ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Microsoft Edge TTS - –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä–∞ —Ä–µ—á–∏.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ò—Å—Ç–∏–Ω–Ω–∞—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**: –î–æ 25+ –ø–æ—Ç–æ–∫–æ–≤ —Å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é ~99%
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ 3 –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞**: –ö–∞–∫ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ, –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≥–æ–ª–æ—Å–∞**: –†—É—Å—Å–∫–∏–µ –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ –≥–æ–ª–æ—Å–∞ –æ—Ç Microsoft
- **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã –ø—Ä–æ–∏–∑–Ω–æ—Å—è—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∞–∫—Ü–µ–Ω—Ç–æ–º (–ù–û–í–û–ï!)
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**: –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—á–∏, –≥—Ä–æ–º–∫–æ—Å—Ç—å, –≤—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∫–ª–µ–π–∫–∞**: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –≤ –µ–¥–∏–Ω—ã–π MP3 —Ñ–∞–π–ª
- **–£–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ü—Ä–æ–ø—É—Å–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≥–ª–∞–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# Python –ø–∞–∫–µ—Ç—ã
pip install edge-tts pydub

# –î–ª—è —Å–∫–ª–µ–π–∫–∏ –∞—É–¥–∏–æ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
# macOS:
brew install ffmpeg

# Linux:
apt install ffmpeg
```

### –ó–∞–ø—É—Å–∫

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
```bash
./create_audiobook.sh
```

–°–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –≤—ã–±—Ä–∞—Ç—å:
- –ì–æ–ª–æ—Å (–º—É–∂—Å–∫–æ–π/–∂–µ–Ω—Å–∫–∏–π)
- –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—á–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
```bash
python3 05_create_audiobook.py --voice male --rate "+0%" --workers 25
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –í —Å–æ—Å—Ç–∞–≤–µ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
```bash
./run_all.sh
# –û—Ç–≤–µ—Ç—å—Ç–µ 'y' –Ω–∞ –≤–æ–ø—Ä–æ—Å –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞—É–¥–∏–æ–∫–Ω–∏–≥–∏
```

## üé§ –î–æ—Å—Ç—É–ø–Ω—ã–µ –≥–æ–ª–æ—Å–∞

| –ì–æ–ª–æ—Å | ID | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| –î–º–∏—Ç—Ä–∏–π | ru-RU-DmitryNeural | –ú—É–∂—Å–∫–æ–π, –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π |
| –°–≤–µ—Ç–ª–∞–Ω–∞ | ru-RU-SvetlanaNeural | –ñ–µ–Ω—Å–∫–∏–π, –ø—Ä–∏—è—Ç–Ω—ã–π |
| –î–∞—Ä—å—è | ru-RU-DariyaNeural | –ñ–µ–Ω—Å–∫–∏–π, –º–æ–ª–æ–¥–æ–π |

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

### –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—á–∏ (--rate)
- `-50%` - –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ
- `-25%` - –º–µ–¥–ª–µ–Ω–Ω–æ
- `+0%` - –Ω–æ—Ä–º–∞–ª—å–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `+25%` - –±—ã—Å—Ç—Ä–æ
- `+50%` - –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ

### –ì—Ä–æ–º–∫–æ—Å—Ç—å (--volume)
- `-50%` - —Ç–∏—Ö–æ
- `+0%` - –Ω–æ—Ä–º–∞–ª—å–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `+50%` - –≥—Ä–æ–º–∫–æ

### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å (--workers)
- `1-50` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 25)
- –ë–æ–ª—å—à–µ –ø–æ—Ç–æ–∫–æ–≤ = –±—ã—Å—Ç—Ä–µ–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: ~99% (–ø–æ—á—Ç–∏ –ª–∏–Ω–µ–π–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: 25 –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞

### –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ (--paragraphs-per-group)
- `1-10` - –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤ –≤ –≥—Ä—É–ø–ø–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3)
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–µ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ
- –ö–∞–∂–¥–∞—è –≥—Ä—É–ø–ø–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –≤ —Å–≤–æ–µ–º –ø–æ—Ç–æ–∫–µ

### –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (--disable-multilang)
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é **–≤–∫–ª—é—á–µ–Ω–∞** - –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã –ø—Ä–æ–∏–∑–Ω–æ—Å—è—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç: CMMI, OPD, Process Area, Maturity Level –∏ –¥—Ä.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SSML —Ä–∞–∑–º–µ—Ç–∫—É –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–æ–≤
- –û—Ç–∫–ª—é—á–∏—Ç—å: `--disable-multilang` (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã)

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
- 100 —Å—Ç—Ä–∞–Ω–∏—Ü —Ç–µ–∫—Å—Ç–∞: ~5-10 –º–∏–Ω—É—Ç
- 500 —Å—Ç—Ä–∞–Ω–∏—Ü —Ç–µ–∫—Å—Ç–∞: ~20-30 –º–∏–Ω—É—Ç
- 1000 —Å—Ç—Ä–∞–Ω–∏—Ü —Ç–µ–∫—Å—Ç–∞: ~40-60 –º–∏–Ω—É—Ç

–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Ç–æ–∫–æ–≤
- –°–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –ú–æ—â–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
audiobook/
‚îú‚îÄ‚îÄ audiobook_complete.mp3     # –§–∏–Ω–∞–ª—å–Ω–∞—è –∞—É–¥–∏–æ–∫–Ω–∏–≥–∞
‚îú‚îÄ‚îÄ audiobook_metadata.json    # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
‚îî‚îÄ‚îÄ temp_audio/               # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≥–ª–∞–≤
    ‚îú‚îÄ‚îÄ chapter_000_intro.mp3
    ‚îú‚îÄ‚îÄ chapter_000_para_0001.mp3
    ‚îî‚îÄ‚îÄ ...
```

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "Too many open files"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–π –ª–∏–º–∏—Ç
ulimit -n

# –£–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç —Ñ–∞–π–ª–æ–≤
./fix_limits.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
ulimit -n 4096

# –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è (macOS)
sudo launchctl limit maxfiles 4096 4096
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–æ—Ç–æ–∫–æ–≤:**
- –õ–∏–º–∏—Ç < 1024: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 5-10 –ø–æ—Ç–æ–∫–æ–≤
- –õ–∏–º–∏—Ç 1024-2048: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 10-15 –ø–æ—Ç–æ–∫–æ–≤  
- –õ–∏–º–∏—Ç > 2048: –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 20-25 –ø–æ—Ç–æ–∫–æ–≤

### edge-tts –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
pip install --upgrade edge-tts
```

### ffmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω
```bash
# macOS
brew install ffmpeg

# Linux
apt install ffmpeg

# Windows
# –°–∫–∞—á–∞–π—Ç–µ —Å https://ffmpeg.org
```

### –û—à–∏–±–∫–∞ —Å–∫–ª–µ–π–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ ffmpeg
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pydub –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É: `pip install pydub`

### –°–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã —Å–∏—Å—Ç–µ–º—ã: `ulimit -n`
- –£–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç—ã: `./fix_limits.sh`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

## üí° –°–æ–≤–µ—Ç—ã

1. **–î–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∫–Ω–∏–≥**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª—å—à–µ –ø–æ—Ç–æ–∫–æ–≤ (30-50)
2. **–î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞**: –£–¥–∞–ª—è–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
3. **–î–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ—Ä–º–∞–ª—å–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å (+0%)
4. **–î–ª—è —Ñ–æ–Ω–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã**: –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —á–µ—Ä–µ–∑ nohup –∏–ª–∏ screen

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ì–æ—Ç–æ–≤–∞—è –∞—É–¥–∏–æ–∫–Ω–∏–≥–∞ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
- ‚úÖ –í—Å–µ –≥–ª–∞–≤—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
- ‚úÖ –ü–∞—É–∑—ã –º–µ–∂–¥—É –≥–ª–∞–≤–∞–º–∏ –∏ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞–º–∏
- ‚úÖ –û–±—ä—è–≤–ª–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è –≥–ª–∞–≤
- ‚úÖ –ü—Ä–æ–ø—É—Å–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é –æ–∑–≤—É—á–∫—É –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–¢–∏–ø–∏—á–Ω–∞—è –∫–Ω–∏–≥–∞ (400 —Å—Ç—Ä–∞–Ω–∏—Ü):
- –†–∞–∑–º–µ—Ä MP3: ~200-300 –ú–ë
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ~10-15 —á–∞—Å–æ–≤
- –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: ~20-30 –º–∏–Ω—É—Ç

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. –ï—Å—Ç—å –ª–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ `translations/`
3. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
4. –°—Ç–∞–±–∏–ª—å–Ω–æ –ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

---

*–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∞—É–¥–∏–æ–∫–Ω–∏–≥ v1.0 - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Microsoft Edge TTS*