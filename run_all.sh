#!/bin/bash

# üöÄ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–µ—Ä–µ–≤–æ–¥–∞ –∫–Ω–∏–≥–∏ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ v2.0

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ .env –µ—Å–ª–∏ –µ—Å—Ç—å
if [ -f .env ]; then
    set -a  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–æ—Ä—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
    source .env
    set +a
fi

# –ó–∞—Å–µ–∫–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
START_TIME=$(date +%s)

echo "üìö –ó–∞–ø—É—Å–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –∫–Ω–∏–≥–∏ v2.0"
echo "====================================================="
echo "üöÄ –ü–æ—Å–ª–µ–¥–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:"
echo "  ‚ú® –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
echo "  üß† –ö–æ–Ω—Ç–µ–∫—Å—Ç 3+3 (3 –∞–±–∑–∞—Ü–∞ –¥–æ + 3 –ø–æ—Å–ª–µ –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞)"
echo "  ‚ö° –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã (10x –º–µ–Ω—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤)"
echo "  üîÑ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ –¥–æ 25 –ø–æ—Ç–æ–∫–æ–≤"
echo "  üñºÔ∏è –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π"
echo ""

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
if [ -d "venv" ]; then
    echo "üêç –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è..."
    source venv/bin/activate
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ book.pdf
if [ ! -f "book.pdf" ]; then
    echo "‚ùå –§–∞–π–ª book.pdf –Ω–µ –Ω–∞–π–¥–µ–Ω!"
    echo "   –ü–æ–º–µ—Å—Ç–∏—Ç–µ PDF –∫–Ω–∏–≥—É –≤ —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é"
    exit 1
fi

# 1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
echo "1Ô∏è‚É£ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫..."
python3 01_extract_book.py  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä
if [ $? -ne 0 ]; then
    echo "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏, –ø—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä..."
    python3 01_reextract_book.py
    if [ $? -ne 0 ]; then
        echo "‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏"
        exit 1
    fi
    EXTRACT_DIR="extracted_proper"
else
    EXTRACT_DIR="extracted_fixed"
fi
echo "‚úÖ –¢–µ–∫—Å—Ç –∏–∑–≤–ª–µ—á–µ–Ω (${EXTRACT_DIR})"
echo ""

# 2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∏–∞–≥—Ä–∞–º–º
echo "2Ô∏è‚É£ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∏–∞–≥—Ä–∞–º–º..."
python3 02_extract_figures.py
if [ $? -ne 0 ]; then
    echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ –¥–∏–∞–≥—Ä–∞–º–º"
    exit 1
fi
echo "‚úÖ –î–∏–∞–≥—Ä–∞–º–º—ã –∏–∑–≤–ª–µ—á–µ–Ω—ã"
echo ""

# 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
echo "3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞..."
echo "   üß† –ö–æ–Ω—Ç–µ–∫—Å—Ç 3+3: –∫–∞–∂–¥–∞—è –≥—Ä—É–ø–ø–∞ –≤–∏–¥–∏—Ç —Å–æ—Å–µ–¥–Ω–∏–µ –∞–±–∑–∞—Ü—ã"
echo "   ‚ö° –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã: 10x –º–µ–Ω—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤"
echo "   üîÑ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å: –¥–æ 25 –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ"
echo "‚ö†Ô∏è –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∫–Ω–∏–≥–∏"
echo ""

# –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —Å –Ω–æ–≤—ã–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
python3 03_translate_parallel.py --all
translation_result=$?

if [ $translation_result -ne 0 ]; then
    echo "‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º –ø–µ—Ä–µ–≤–æ–¥–æ–º, –ø—Ä–æ–±—É–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π..."
    python3 03_translate_contextual.py
    if [ $? -ne 0 ]; then
        echo "‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º –ø–µ—Ä–µ–≤–æ–¥–æ–º, –ø—Ä–æ–±—É–µ–º –±–∞–∑–æ–≤—ã–π..."
        python3 archive/03_translate_simple.py
        if [ $? -ne 0 ]; then
            echo "‚ùå –í—Å–µ –º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–µ —É–¥–∞–ª–∏—Å—å"
            exit 1
        fi
    fi
fi

echo "‚úÖ –ü–µ—Ä–µ–≤–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω (translations)"
echo ""

# 4. –ü–æ—Å—Ç-–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
echo ""
echo "4Ô∏è‚É£ –ü–æ—Å—Ç-–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –ø–µ—Ä–µ–≤–æ–¥–æ–≤"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —á–µ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
FILTERED_AVAILABLE=false
if [ -f "blacklist_config.json" ]; then
    echo "üìã –ù–∞–π–¥–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞"
    read -p "   –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é? (y/n) [y]: " -n 1 -r
    echo ""
    if [[ ! $REPLY =~ ^[Nn]$ ]]; then
        echo "üîç –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤..."
        python3 06_postprocess_filter.py --input-dir translations --output-dir translations_filtered
        
        if [ $? -eq 0 ]; then
            echo "‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
            # –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
            FILTERED_AVAILABLE=true
        else
            echo "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã"
        fi
    fi
else
    echo "üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (blacklist_config.json)"
    echo "   –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —ç—Ç–∞–ø —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏"
fi

# 5. –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∫–Ω–∏–≥–∏
echo ""
echo "5Ô∏è‚É£ –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∫–Ω–∏–≥–∏..."

# –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
if [ "$FILTERED_AVAILABLE" = true ]; then
    python3 04_compile_book.py --use-filtered
    compile_result=$?
else
    python3 04_compile_book.py
    compile_result=$?
fi

if [ $compile_result -ne 0 ]; then
    echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏"
    exit 1
fi
echo "‚úÖ –ö–Ω–∏–≥–∞ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–∞"
echo ""

# 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
echo "6Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞..."
if [ -f "output/CMMI –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ v1.3 (–ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è).pdf" ]; then
    file_size=$(ls -lh "output/CMMI –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ v1.3 (–ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è).pdf" | awk '{print $5}')
    echo "‚úÖ PDF —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ (—Ä–∞–∑–º–µ—Ä: ${file_size})"
else
    echo "‚ö†Ô∏è PDF –Ω–µ –Ω–∞–π–¥–µ–Ω, –Ω–æ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª—Å—è"
fi
echo ""

# 7. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—É–¥–∏–æ–∫–Ω–∏–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
echo ""
read -p "üéß –°–æ–∑–¥–∞—Ç—å –∞—É–¥–∏–æ–∫–Ω–∏–≥—É? (y/n): " -n 1 -r
echo ""
if [[ $REPLY =~ ^[Yy]$ ]]; then
    echo "üéôÔ∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—É–¥–∏–æ–∫–Ω–∏–≥–∏..."
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ edge-tts
    if ! python3 -c "import edge_tts" 2>/dev/null; then
        echo "‚ö†Ô∏è –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º edge-tts..."
        pip install edge-tts pydub
    fi
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ ffmpeg
    if ! command -v ffmpeg &> /dev/null; then
        echo "‚ö†Ô∏è ffmpeg –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!"
        echo "   macOS: brew install ffmpeg"
        echo "   Linux: apt install ffmpeg"
        echo "   –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∞—É–¥–∏–æ–∫–Ω–∏–≥–∏"
    else
        # –ó–∞–ø—É—Å–∫–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π –ø–µ—Ä–µ–≤–æ–¥–æ–≤
        # –§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è
        if [ "$FILTERED_AVAILABLE" = true ]; then
            python3 05_create_audiobook.py --translations-dir translations_filtered --voice male --workers 25
        else
            python3 05_create_audiobook.py --voice male --workers 25
        fi
        
        if [ $? -eq 0 ]; then
            echo "‚úÖ –ê—É–¥–∏–æ–∫–Ω–∏–≥–∞ —Å–æ–∑–¥–∞–Ω–∞: audiobook/audiobook_complete.mp3"
        else
            echo "‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞—É–¥–∏–æ–∫–Ω–∏–≥–∏"
        fi
    fi
fi

# –í—ã—á–∏—Å–ª—è–µ–º –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
END_TIME=$(date +%s)
DURATION=$((END_TIME - START_TIME))
DURATION_MIN=$((DURATION / 60))
DURATION_SEC=$((DURATION % 60))

echo ""
echo "üéâ –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–µ–Ω!"
echo "üìñ –§–∏–Ω–∞–ª—å–Ω–∞—è –∫–Ω–∏–≥–∞: output/CMMI –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ v1.3 (–ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è).pdf"
if [ -f "audiobook/audiobook_complete.mp3" ]; then
    echo "üéß –ê—É–¥–∏–æ–∫–Ω–∏–≥–∞: audiobook/audiobook_complete.mp3"
fi
echo "‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ${DURATION_MIN} –º–∏–Ω ${DURATION_SEC} —Å–µ–∫"
echo ""
echo "üìä –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ v2.0:"
echo "  ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –≤–Ω—É—Ç—Ä–∏ –∞–±–∑–∞—Ü–µ–≤"
echo "  ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç 3+3 –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–≤–æ–¥–∞"
echo "  ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã (10x —ç–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤)"
echo "  ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ –¥–æ 25 –ø–æ—Ç–æ–∫–æ–≤"
echo "  ‚úÖ –£–º–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∞–±–∑–∞—Ü–µ–≤ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º"
echo "  ‚úÖ –§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è –≤ –∞—É–¥–∏–æ–∫–Ω–∏–≥–µ"
echo ""
echo "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:"
echo "  üìÅ ${EXTRACT_DIR}/ - –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –≥–ª–∞–≤—ã"
echo "  üìÅ figures/ - –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã"
echo "  üìÅ ${TRANSLATIONS_DIR}/ - –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–µ –≥–ª–∞–≤—ã"
echo "  üìÅ output/ - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –∫–Ω–∏–≥–∞"