# üìö –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã –ø–µ—Ä–µ–≤–æ–¥–∞ –∫–Ω–∏–≥

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python3 -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–î–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ —á–µ—Ä–µ–∑ OpenAI API:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env
cp .env.example .env

# –û—Ç–∫—Ä–æ–π—Ç–µ .env –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à –∫–ª—é—á:
OPENAI_API_KEY=sk-your-key-here
```

–ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á: https://platform.openai.com/api-keys

### 3. –ó–∞–ø—É—Å–∫ –¥–µ–º–æ
```bash
python demo.py
```

## üìñ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–µ—Ä–µ–≤–æ–¥–∞
```bash
# –° API
python main.py full --pdf book.pdf --api-key YOUR_KEY --title "–ù–∞–∑–≤–∞–Ω–∏–µ" --author "–ê–≤—Ç–æ—Ä"

# –ë–µ–∑ API (–±–∞–∑–æ–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥)
python main.py full --pdf book.pdf --no-api
```

### –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

#### 1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
```bash
python main.py extract --pdf book.pdf
```
–†–µ–∑—É–ª—å—Ç–∞—Ç:
- `extracted/` - JSON —Ñ–∞–π–ª—ã —Å –≥–ª–∞–≤–∞–º–∏
- `images/` - –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `extracted/metadata.json` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏

#### 2. –ü–µ—Ä–µ–≤–æ–¥
```bash
# –í—Å–µ –≥–ª–∞–≤—ã —Å API
python main.py translate --api-key YOUR_KEY

# –ë–µ–∑ API (–±–∞–∑–æ–≤—ã–π —Å–ª–æ–≤–∞—Ä–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥)
python main.py translate --no-api

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≥–ª–∞–≤—ã
python main.py translate --chapters 0 1 2 3 --api-key YOUR_KEY

# –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø—Ä–µ—Ä–≤–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
python main.py translate  # –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
```

#### 3. –ö–æ–º–ø–∏–ª—è—Ü–∏—è
```bash
# –í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã
python main.py compile

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
python main.py compile --format fb2
python main.py compile --format pdf
python main.py compile --format epub

# –° –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
python main.py compile --title "–ú–æ—è –∫–Ω–∏–≥–∞" --author "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
```

#### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
python main.py status
```

## üéØ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–≤–æ–¥ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
```bash
# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤—ã –ø–æ 30 —Å—Ç—Ä–∞–Ω–∏—Ü
python main.py extract --pdf manual.pdf

# –ü–µ—Ä–µ–≤–æ–¥ —Å API
python main.py translate --api-key $OPENAI_API_KEY

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –≤ PDF –¥–ª—è –ø–µ—á–∞—Ç–∏
python main.py compile --format pdf --title "–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ"
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–µ—Ä–µ–≤–æ–¥ –∫–Ω–∏–≥–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
```bash
# –ù–∞—á–∞–ª–æ –ø–µ—Ä–µ–≤–æ–¥–∞
python main.py extract --pdf book.pdf
python main.py translate --chapters 0 1 2 3 4  # –ø–µ—Ä–≤—ã–µ 5 –≥–ª–∞–≤

# –ù–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å
python main.py translate --chapters 5 6 7 8 9  # —Å–ª–µ–¥—É—é—â–∏–µ 5 –≥–ª–∞–≤

# –ò–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ
python main.py translate  # –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –≥–ª–∞–≤—ã 5

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
python main.py status

# –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
python main.py compile --format fb2
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –¢–µ—Å—Ç–æ–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥ –±–µ–∑ API
```bash
# –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –±–µ–∑ –∑–∞—Ç—Ä–∞—Ç –Ω–∞ API
python main.py full --pdf book.pdf --no-api
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
translater/
‚îú‚îÄ‚îÄ book.pdf                  # –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ extracted/                # –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ chapter_000.json     # –ì–ª–∞–≤—ã –≤ JSON
‚îÇ   ‚îú‚îÄ‚îÄ chapter_001.json
‚îÇ   ‚îî‚îÄ‚îÄ metadata.json        # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏
‚îú‚îÄ‚îÄ images/                   # –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ img_0000_00_xxx.png
‚îÇ   ‚îî‚îÄ‚îÄ img_0030_00_yyy.png
‚îú‚îÄ‚îÄ translations/             # –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–µ –≥–ª–∞–≤—ã
‚îÇ   ‚îú‚îÄ‚îÄ chapter_000_translated.json
‚îÇ   ‚îî‚îÄ‚îÄ chapter_001_translated.json
‚îú‚îÄ‚îÄ context/                  # –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ context_chapter_000.json
‚îú‚îÄ‚îÄ progress/                 # –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–≤–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ translation_progress.json
‚îî‚îÄ‚îÄ output/                   # –ì–æ—Ç–æ–≤—ã–µ –∫–Ω–∏–≥–∏
    ‚îú‚îÄ‚îÄ book.fb2
    ‚îú‚îÄ‚îÄ book.pdf
    ‚îî‚îÄ‚îÄ book.epub
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
```bash
# API –∫–ª—é—á–∏
OPENAI_API_KEY=sk-...        # OpenAI API
ANTHROPIC_API_KEY=sk-ant-...  # Claude API (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∞
TRANSLATION_MODEL=gpt-4       # –ú–æ–¥–µ–ª—å –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞
MAX_TOKENS=2000               # –ú–∞–∫—Å. —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å
TEMPERATURE=0.3               # –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (0-1)
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
–ü—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–º–µ—Ä –≥–ª–∞–≤:
```python
# –í pdf_extractor_improved.py
extractor.extract_all(page_based_split=50)  # –ì–ª–∞–≤—ã –ø–æ 50 —Å—Ç—Ä–∞–Ω–∏—Ü
```

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "No module named 'PIL'"
```bash
pip install Pillow
```

### –ü—Ä–æ–±–ª–µ–º–∞: "PDF protected by password"
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–Ω—è—Ç–∏—è –∑–∞—â–∏—Ç—ã PDF –∏–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª.

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≥–ª–∞–≤—ã
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–æ–±—å–µ—Ç –∫–Ω–∏–≥—É –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ—Ç –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ.

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ API –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API –∫–ª—é—á–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –≤ OpenAI
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--no-api` –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ PDF –º–æ–≥—É—Ç –∏–º–µ—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç –∏—Ö.

## üí° –°–æ–≤–µ—Ç—ã

1. **–î–ª—è –±–æ–ª—å—à–∏—Ö –∫–Ω–∏–≥**: –ü–µ—Ä–µ–≤–æ–¥–∏—Ç–µ –ø–æ —á–∞—Å—Ç—è–º, –∏—Å–ø–æ–ª—å–∑—É—è `--chapters`
2. **–î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ API**: –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ 1-2 –≥–ª–∞–≤–∞—Ö
3. **–î–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ `context/`
4. **–î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã**: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:
```bash
# –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å
python main.py status

# –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å
cat progress/translation_progress.json | python3 -m json.tool
```

## üÜò –ü–æ–º–æ—â—å

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É PDF (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –º–æ–≥—É—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è)

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –ª—é–±—ã–µ PDF –∫–Ω–∏–≥–∏ –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–π!